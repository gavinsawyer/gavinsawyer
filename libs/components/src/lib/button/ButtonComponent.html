<ng-template #buttonTemplate>
  <img
    alt="Icon"
    class="icon"
    [height]="iconHeight"
    [loaderParams]="{type: 'Icon'}"
    *ngIf="iconWidth && iconHeight && iconName"
    [ngSrc]="iconName"
    ngSrcset="1x"
    [sizes]="iconWidth + 'px'"
    [width]="iconWidth" />
  <div id="text">
    {{ text }}
  </div>
  <div
    *ngIf="iconWidth && iconHeight && iconName"
    [ngStyle]="{'flex-basis': iconWidth + 'px', 'max-width': iconWidth + 'px'}"
    id="spacer"></div>
</ng-template>

<a
  (click)="action.emit();"
  *ngIf="url"
  [href]="url">
  <ng-container *ngTemplateOutlet="buttonTemplate; context: this"></ng-container>
</a>
<button
  (click)="action.emit();"
  *ngIf="!url">
  <ng-container *ngTemplateOutlet="buttonTemplate; context: this"></ng-container>
</button>
